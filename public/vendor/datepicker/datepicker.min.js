!function(){"use strict";void 0===Date.dp_locales&&(Date.dp_locales={texts:{buttonTitle:"Select date ...",buttonLabel:"Click or press the Enter key or the spacebar to open the calendar",prevButtonLabel:"Go to previous month",prevMonthButtonLabel:"Go to the previous year",prevYearButtonLabel:"Go to the previous twenty years",nextButtonLabel:"Go to next month",nextMonthButtonLabel:"Go to the next year",nextYearButtonLabel:"Go to the next twenty years",changeMonthButtonLabel:"Click or press the Enter key or the spacebar to change the month",changeYearButtonLabel:"Click or press the Enter key or the spacebar to change the year",changeRangeButtonLabel:"Click or press the Enter key or the spacebar to go to the next twenty years",closeButtonTitle:"Close",closeButtonLabel:"Close the calendar",calendarHelp:"- Up Arrow and Down Arrow - goes to the same day of the week in the previous or next week respectively. If the end of the month is reached, continues into the next or previous month as appropriate.\r\n- Left Arrow and Right Arrow - advances one day to the next, also in a continuum. Visually focus is moved from day to day and wraps from row to row in the grid of days.\r\n- Control+Page Up - Moves to the same date in the previous year.\r\n- Control+Page Down - Moves to the same date in the next year.\r\n- Home - Moves to the first day of the current month.\r\n- End - Moves to the last day of the current month.\r\n- Page Up - Moves to the same date in the previous month.\r\n- Page Down - Moves to the same date in the next month.\r\n- Enter or Espace - closes the calendar, and the selected date is shown in the associated text box.\r\n- Escape - closes the calendar without any action."},directionality:"LTR",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],month_names_narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_short:["Su","Mo","Tu","We","Th","Fr","Sa"],day_names_narrow:["S","M","T","W","T","F","S"],day_periods:{am:"AM",noon:"noon",pm:"PM"},day_periods_abbreviated:{am:"AM",noon:"noon",pm:"PM"},day_periods_narrow:{am:"a",noon:"n",pm:"p"},quarter_names:["1st quarter","2nd quarter","3rd quarter","4th quarter"],quarter_names_abbreviated:["Q1","Q2","Q3","Q4"],quarter_names_narrow:["1","2","3","4"],era_names:["Before Christ","Anno Domini"],era_names_abbreviated:["BC","AD"],era_names_narrow:["B","A"],full_format:"EEEE, MMMM d, y",long_format:"MMMM d, y",medium_format:"MMM d, y",short_format:"M/d/yy",firstday_of_week:0})}(),function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)t(require("jquery"));else{if("undefined"==typeof jQuery)throw new Error("Datepicker's JavaScript requires jQuery");t(jQuery)}}(function(t,e){"use strict";var a=['<a class="datepicker-button bootstrap3 input-group-addon btn" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="glyphicon glyphicon-calendar" title="Select Date..."></span>',"</a>"],i=['<div class="datepicker-calendar bootstrap3" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next pull-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-forward"></span></div>','\t\t<div class="datepicker-button datepicker-month-next pull-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-right"></span></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev pull-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-backward"></span></div>','\t\t<div class="datepicker-button datepicker-month-prev pull-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-left"></span></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<td id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</td>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],s=['<a class="datepicker-button bootstrap4 input-group-append" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="input-group-text"><i class="far fa-calendar-alt" title="Select Date..."></i></span>',"</a>"],r=['<div class="datepicker-calendar bootstrap4" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next float-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><i class="fas fa-forward"></i></div>','\t\t<div class="datepicker-button datepicker-month-next float-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><i class="fas fa-caret-right"></i></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev float-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><i class="fas fa-backward"></i></div>','\t\t<div class="datepicker-button datepicker-month-prev float-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><i class="fas fa-caret-left"></i></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<td id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</td>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],n=function(e,o){var l=this;this.$target=t(e),this.options=t.extend({},n.DEFAULTS,o),this.locales=Date.dp_locales,this.startview(this.options.startView),"string"==typeof this.options.inputFormat&&(this.options.inputFormat=[this.options.inputFormat]),Array.isArray(this.options.datesDisabled)||(this.options.datesDisabled=[this.options.datesDisabled]),t.each(this.options.datesDisabled,function(t,e){if("string"==typeof e){var a=l.parseDate(e);l.options.datesDisabled[t]=null===a?null:l.format(a)}else e instanceof Date&&!isNaN(e.valueOf())?l.options.datesDisabled[t]=l.format(e):l.options.datesDisabled[t]=null}),null!=this.options.min?this.options.min=this.parseDate(this.options.min):this.$target.attr("min")&&(this.options.min=this.parseDate(this.$target.attr("min"))),null!=this.options.max?this.options.max=this.parseDate(this.options.max):this.$target.attr("max")&&(this.options.max=this.parseDate(this.$target.attr("max"))),"string"==typeof this.options.previous?this.options.previous=t(this.options.previous):this.options.previous instanceof jQuery||(this.options.previous=null),"string"==typeof this.options.next?this.options.next=t(this.options.next):this.options.next instanceof jQuery||(this.options.next=null),this.id=this.$target.attr("id")||"datepicker-"+Math.floor(1e5*Math.random());var h="bootstrap3"==this.options.markup?i.join(""):r.join("");h=h.replace(/CALENDARID/g,this.id+""),0==this.$target.parent(".input-group").length&&this.$target.wrap('<div class="input-group"></div>'),this.$group=this.$target.parent(".input-group"),this.$target.attr("aria-autocomplete","none"),this.$target.css("min-width","7em"),this.$target.addClass("form-control"),this.$target.attr("placeholder")||this.$target.attr("placeholder",this.options.inputFormat[0]);var d="bootstrap3"==this.options.markup?a.join(""):s.join("");d=d.replace(/CALENDARID/g,this.id+""),this.$button=t(d),this.$button.addClass(this.options.theme),this.$calendar=t(h),this.$calendar.addClass(this.options.theme),this.options.buttonLeft?this.$target.before(this.$button):this.$target.after(this.$button),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.find(".datepicker-bn-open-label").html(this.options.buttonLabel),this.$target.attr("id")&&this.$calendar.attr("aria-controls",this.$target.attr("id")),this.$button.find("span").attr("title",this.options.buttonTitle),this.$calendar.css("left",this.$target.parent().position().left+"px"),this.$monthObj=this.$calendar.find(".datepicker-month"),this.$prev=this.$calendar.find(".datepicker-month-prev"),this.$next=this.$calendar.find(".datepicker-month-next"),this.$fastprev=this.$calendar.find(".datepicker-month-fast-prev"),this.$fastnext=this.$calendar.find(".datepicker-month-fast-next"),this.$grid=this.$calendar.find(".datepicker-grid"),"RTL"===this.locales.directionality&&this.$grid.addClass("rtl");this.$grid.find("th.datepicker-day abbr");(this.drawCalendarHeader(),0==this.options.inline&&1==this.options.modal?(this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel)):(this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label"))),0!=this.options.inline)?(this.hideObject(this.$button),("string"==typeof this.options.inline?t("#"+this.options.inline):this.options.inline).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px"}),this.initializeDate()):(this.$calendar.css({display:"none"}),this.$target.parent().after(this.$calendar),this.hide(!this.options.gainFocusOnConstruction));this.keys={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40},this.bindHandlers(),this.$button.on("click",function(e){return t(this).hasClass("disabled")||("true"===l.$calendar.attr("aria-hidden")?(l.initializeDate(),l.show()):l.hide(),l.selectGridCell(l.$grid.attr("aria-activedescendant"))),e.stopPropagation(),!1}),this.$button.on("keydown",function(e){var a=e||event;if(a.keyCode==l.keys.enter||a.keyCode==l.keys.space)return t(this).trigger("click"),!1}),this.$calendar.on("blur",function(t){"false"===l.$calendar.attr("aria-hidden")&&l.hide()})};n.VERSION="2.1.20",n.DEFAULTS={firstDayOfWeek:Date.dp_locales.firstday_of_week,weekDayFormat:"short",startView:0,daysOfWeekDisabled:[],datesDisabled:[],isDateDisabled:null,isMonthDisabled:null,isYearDisabled:null,inputFormat:[Date.dp_locales.short_format],outputFormat:Date.dp_locales.short_format,titleFormat:Date.dp_locales.full_format,buttonLeft:!1,buttonTitle:Date.dp_locales.texts.buttonTitle,buttonLabel:Date.dp_locales.texts.buttonLabel,prevButtonLabel:Date.dp_locales.texts.prevButtonLabel,prevMonthButtonLabel:Date.dp_locales.texts.prevMonthButtonLabel,prevYearButtonLabel:Date.dp_locales.texts.prevYearButtonLabel,nextButtonLabel:Date.dp_locales.texts.nextButtonLabel,nextMonthButtonLabel:Date.dp_locales.texts.nextMonthButtonLabel,nextYearButtonLabel:Date.dp_locales.texts.nextYearButtonLabel,changeMonthButtonLabel:Date.dp_locales.texts.changeMonthButtonLabel,changeYearButtonLabel:Date.dp_locales.texts.changeYearButtonLabel,changeRangeButtonLabel:Date.dp_locales.texts.changeRangeButtonLabel,closeButtonTitle:Date.dp_locales.texts.closeButtonTitle,closeButtonLabel:Date.dp_locales.texts.closeButtonLabel,onUpdate:function(t){},previous:null,next:null,allowSameDate:!0,markup:"bootstrap3",theme:"default",modal:!1,inline:!1,gainFocusOnConstruction:!0,min:null,max:null},n.prototype.initializeDate=function(){var t=this.$target.val(),e=""===t?new Date:this.parseDate(t);this.setDate(e,!0)},n.prototype.getDate=function(){var t=this.$target.val();return""===t?new Date:this.parseDate(t)},n.prototype.setDate=function(t,e){switch(this.dateObj=t,e=void 0!==e&&e,null==this.dateObj&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=new Date,this.dateObj.setHours(0,0,0,0)),null!=this.options.min&&this.dateObj<this.options.min?(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min):null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),e&&""==this.$target.val()||this.$target.val(this.format(this.dateObj)),this.curYear=this.dateObj.getFullYear(),this.year=this.curYear,this.curMonth=this.dateObj.getMonth(),this.month=this.curMonth,this.date=this.dateObj.getDate(),this.options.startView){case 1:this.populateMonthsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id"));break;case 2:this.populateYearsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id"));break;default:this.populateDaysCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curDay").attr("id"))}},n.prototype.drawCalendarHeader=function(){for(var t=this.$grid.find("th.datepicker-day"),e=this.options.firstDayOfWeek,a=0;a<7;a++)t.eq(a).attr("aria-label",this.locales.day_names[e]),t.children("abbr").eq(a).attr("title",this.locales.day_names[e]).text("short"===this.options.weekDayFormat?this.locales.day_names_short[e]:this.locales.day_names_narrow[e]),e=(e+1)%7},n.prototype.populateDaysCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextButtonLabel),this.$calendar.find(".datepicker-bn-fast-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-fast-next-label").html(this.options.nextMonthButtonLabel),null!=this.options.min&&(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth())?(this.$fastprev.attr("title",""),this.$fastprev.addClass("disabled"),this.$fastprev.removeClass("enabled")):(this.$fastprev.attr("title",this.options.prevMonthButtonLabel),this.$fastprev.addClass("enabled"),this.$fastprev.removeClass("disabled"));var e=this.previousMonth(this.year,this.month);null!=this.options.min&&(e.year<this.options.min.getFullYear()||e.year==this.options.min.getFullYear()&&e.month<this.options.min.getMonth())?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeMonthButtonLabel);var a=this.nextMonth(this.year,this.month);null!=this.options.max&&(a.year>this.options.max.getFullYear()||a.year==this.options.max.getFullYear()&&a.month>this.options.max.getMonth())?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled")),null!=this.options.max&&(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth())?(this.$fastnext.attr("title",""),this.$fastnext.addClass("disabled"),this.$fastnext.removeClass("enabled")):(this.$fastnext.attr("title",this.options.nextMonthButtonLabel),this.$fastnext.addClass("enabled"),this.$fastnext.removeClass("disabled")),this.showObject(this.$fastprev),this.showObject(this.$fastnext);var i=this.getDaysInMonth(this.year,this.month),s=this.getDaysInMonth(e.year,e.month),r=new Date(this.year,this.month,1).getDay(),n=(this.options.firstDayOfWeek+6)%7,o=1,l=1;this.$monthObj.html(this.locales.month_names[this.month]+" "+this.year),this.showObject(this.$grid.find("thead"));for(var h='\t<tr id="row0-'+this.id+'" role="row">\n',d=0,c=this.options.firstDayOfWeek;c!=r;)d++,c=(c+1)%7;for(;d>0;d--)h+='\t\t<td class="empty">'+(s-d+1)+"</td>\n";var p=this.options.isYearDisabled&&this.options.isYearDisabled(this.year),u=this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,this.month+1);for(o=1;o<=i;o++){var b=new Date(this.year,this.month,o,0,0,0,0),f=this.formatDate(b,this.options.titleFormat),y=o==this.date&&this.month==this.curMonth&&this.year==this.curYear?" curDay":"";p||u?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':t.inArray(c,this.options.daysOfWeekDisabled)>-1?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':null!=this.options.min&&b<this.options.min?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':null!=this.options.max&&b>this.options.max?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':t.inArray(this.format(b),this.options.datesDisabled)>-1?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':this.options.isDateDisabled&&this.options.isDateDisabled(b)?h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day unselectable'+y+'"':h+='\t\t<td id="cell'+o+"-"+this.id+'" class="day selectable'+y+'"',h+=' data-value="'+o+'"',h+=' title="'+f+'"',h+=' aria-label="'+f+'"',h+=' headers="day'+c+"-header-"+this.id+'" role="gridcell" tabindex="-1" aria-selected="false">'+o,h+="</td>",c==n&&o<i&&(h+='\t</tr>\n\t<tr id="row'+l+"-"+this.id+'" role="row">\n',l++),o<i&&(c=(c+1)%7)}for(;c!=n;)h+='\t\t<td class="empty">'+ ++d+"</td>\n",c=(c+1)%7;h+="\t</tr>";var g=this.$grid.find("tbody");g.empty(),g.append(h),this.gridType=0},n.prototype.populateMonthsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextMonthButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-1<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevMonthButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeYearButtonLabel),null!=this.options.max&&this.year+1>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextMonthButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var e=0,a=1,i=this.$grid.find("tbody");this.$monthObj.html(this.year),this.hideObject(this.$grid.find("thead")),i.empty(),t("#datepicker-err-msg-"+this.id).empty();var s='\t<tr id="row0-'+this.id+'" role="row">\n',r=this.options.isYearDisabled&&this.options.isYearDisabled(this.year);for(e=0;e<12;e++)r?s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month unselectable"':e==this.month&&this.year==this.curYear?s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month curMonth selectable"':null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&e<this.options.min.getMonth())?s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month unselectable"':null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&e>this.options.max.getMonth())?s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month unselectable"':this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,e+1)?s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month unselectable"':s+='\t\t<td id="cell'+(e+1)+"-"+this.id+'" class="month selectable"',s+=' data-value="'+e+'"',s+=' title="'+this.locales.month_names[e]+" "+this.year+'"',s+=' aria-label="'+this.locales.month_names[e]+" "+this.year+'"',s+=' role="gridcell" tabindex="-1" aria-selected="false">'+this.locales.month_names_abbreviated[e],s+="</td>",3!=e&&7!=e||(s+='\t</tr>\n\t<tr id="row'+a+"-"+this.id+'" role="row">\n',a++);s+="\t</tr>",i.append(s),this.gridType=1},n.prototype.populateYearsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevYearButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextYearButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-20<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevYearButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeRangeButtonLabel),null!=this.options.max&&this.year+20>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextYearButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var e=10*Math.floor(this.year/10),a=e+19,i=1,s=this.$grid.find("tbody");this.$monthObj.html(e+"-"+a),this.hideObject(this.$grid.find("thead")),s.empty(),t("#datepicker-err-msg-"+this.id).empty();for(var r='\t<tr id="row0-'+this.id+'" role="row">\n',n=e;n<=a;n++){n==this.year?r+='\t\t<td id="cell'+(n-e+1)+"-"+this.id+'" class="year curYear selectable"':null!=this.options.min&&n<this.options.min.getFullYear()?r+='\t\t<td id="cell'+(n-e+1)+"-"+this.id+'" class="year unselectable"':null!=this.options.max&&n>this.options.max.getFullYear()?r+='\t\t<td id="cell'+(n-e+1)+"-"+this.id+'" class="year unselectable"':this.options.isYearDisabled&&this.options.isYearDisabled(n)?r+='\t\t<td id="cell'+(n-e+1)+"-"+this.id+'" class="year unselectable"':r+='\t\t<td id="cell'+(n-e+1)+"-"+this.id+'" class="year selectable"',r+=' data-value="'+n+'"',r+=' title="'+n+'"',r+=' role="gridcell" tabindex="-1" aria-selected="false">'+n,r+="</td>";var o=n-e;4!=o&&9!=o&&14!=o||(r+='\t</tr>\n\t<tr id="row'+i+"-"+this.id+'" role="row">\n',i++)}r+="\t</tr>",s.append(r),this.gridType=2},n.prototype.showDaysOfPrevMonth=function(t){var e=this.previousMonth(this.year,this.month);if(null!=this.options.min&&(e.year<this.options.min.getFullYear()||e.year==this.options.min.getFullYear()&&e.month<this.options.min.getMonth()))return!1;if(this.month=e.month,this.year=e.year,this.populateDaysCalendar(),null!=t){var a=this.$grid.find("td");for(t=a.length-t;t>=0&&!a.eq(t).hasClass("selectable");)t--;if(t>=0){var i=a.eq(t).attr("id");this.$grid.attr("aria-activedescendant",i),this.selectGridCell(i)}}return!0},n.prototype.showDaysOfMonth=function(t){if(null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&t<this.options.min.getMonth()))return!1;if(null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&t>this.options.max.getMonth()))return!1;this.month=t,this.date=Math.min(this.date,this.getDaysInMonth(this.year,this.month)),this.populateDaysCalendar();var e=this.$grid.find("tbody td[data-value='"+this.date+"']");return this.selectGridCell(e.attr("id")),!0},n.prototype.showMonthsOfPrevYear=function(t){if(null!=this.options.min&&this.year-1<this.options.min.getFullYear())return!1;if(this.year--,this.populateMonthsCalendar(),null!=t){var e=this.$grid.find("td");for(t=e.length-t;t>=0&&!e.eq(t).hasClass("selectable");)t--;if(t>=0){var a=e.eq(t).attr("id");this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a)}}return!0},n.prototype.showMonthsOfYear=function(t){if(null!=this.options.min&&t<this.options.min.getFullYear())return!1;if(null!=this.options.max&&t>this.options.max.getFullYear())return!1;this.year=t,this.populateMonthsCalendar();var e=this.$grid.find("tbody td[data-value='"+this.month+"']");return this.$grid.attr("aria-activedescendant",e.attr("id")),this.selectGridCell(e.attr("id")),!0},n.prototype.showYearsOfPrevRange=function(t){if(null!=this.options.min&&this.year-20<this.options.min.getFullYear())return!1;if(this.year-=20,this.populateYearsCalendar(),null!=t){var e=this.$grid.find("td");for(t=e.length-t;t>=0&&!e.eq(t).hasClass("selectable");)t--;if(t>=0){var a=e.eq(t).attr("id");this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a)}}return!0},n.prototype.showDaysOfNextMonth=function(t){var e=this.nextMonth(this.year,this.month);if(null!=this.options.max&&(e.year>this.options.max.getFullYear()||e.year==this.options.max.getFullYear()&&e.month>this.options.max.getMonth()))return!1;if(this.month=e.month,this.year=e.year,this.populateDaysCalendar(),null!=t){var a=this.$grid.find("td");for(t--;t<a.length&&!a.eq(t).hasClass("selectable");)t++;if(t<a.length){var i=a.eq(t).attr("id");this.$grid.attr("aria-activedescendant",i),this.selectGridCell(i)}}return!0},n.prototype.showMonthsOfNextYear=function(t){if(null!=this.options.max&&this.year+1>this.options.max.getFullYear())return!1;if(this.year++,this.populateMonthsCalendar(),null!=t){var e=this.$grid.find("td");for(t--;t<e.length&&!e.eq(t).hasClass("selectable");)t++;if(t<e.length){var a=e.eq(t).attr("id");this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a)}}return!0},n.prototype.showYearsOfNextRange=function(t){if(null!=this.options.max&&this.year+20>this.options.max.getFullYear())return!1;if(this.year+=20,this.populateYearsCalendar(),null!=t){var e=this.$grid.find("td");for(t--;t<e.length&&!e.eq(t).hasClass("selectable");)t++;if(t<e.length){var a=e.eq(t).attr("id");this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a)}}return!0},n.prototype.showDaysOfPrevYear=function(){return(null==this.options.min||!(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth()))&&(this.year--,this.populateDaysCalendar(),!0)},n.prototype.showDaysOfNextYear=function(){return(null==this.options.max||!(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth()))&&(this.year++,this.populateDaysCalendar(),!0)},n.prototype.bindHandlers=function(){var e=this;this.$fastprev.on("click",function(t){return e.handleFastPrevClick(t)}),this.$prev.on("click",function(t){return e.handlePrevClick(t)}),this.$next.on("click",function(t){return e.handleNextClick(t)}),this.$fastnext.on("click",function(t){return e.handleFastNextClick(t)}),this.$monthObj.on("click",function(t){return e.handleMonthClick(t)}),this.$monthObj.on("keydown",function(t){return e.handleMonthKeyDown(t)}),this.$fastprev.on("keydown",function(t){return e.handleFastPrevKeyDown(t)}),this.$prev.on("keydown",function(t){return e.handlePrevKeyDown(t)}),this.$next.on("keydown",function(t){return e.handleNextKeyDown(t)}),this.$fastnext.on("keydown",function(t){return e.handleFastNextKeyDown(t)}),1==this.options.modal&&(this.$close.on("click",function(t){return e.handleCloseClick(t)}),this.$close.on("keydown",function(t){return e.handleCloseKeyDown(t)})),this.$grid.on("keydown",function(t){return e.handleGridKeyDown(t)}),this.$grid.on("keypress",function(t){return e.handleGridKeyPress(t)}),this.$grid.on("focus",function(t){return e.handleGridFocus(t)}),this.$grid.on("blur",function(t){return e.handleGridBlur(t)}),this.$grid.on("click","td",function(t){return e.handleGridClick(this,t)}),this.$target.on("change",function(a){var i=e.parseDate(t(this).val());e.updateLinked(i)})},n.prototype.handleFastPrevClick=function(t){if(this.showDaysOfPrevYear()){var e=this.$grid.attr("aria-activedescendant");this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return t.stopPropagation(),!1},n.prototype.handlePrevClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:(t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth())&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfPrevYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfPrevRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},n.prototype.handleMonthClick=function(t){return this.changeGrid(t),t.stopPropagation(),!1},n.prototype.handleNextClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:(t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth())&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfNextYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfNextRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},n.prototype.handleFastNextClick=function(t){if(this.showDaysOfNextYear()){var e=this.$grid.attr("aria-activedescendant");this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return t.stopPropagation(),!1},n.prototype.handleCloseClick=function(t){return this.hide(),t.stopPropagation(),!1},n.prototype.handleFastPrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$close.trigger("focus"):this.$prev.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.showDaysOfPrevYear(),t.stopPropagation(),!1);case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},n.prototype.handlePrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?0==this.gridType?this.$fastprev.trigger("focus"):this.$close.trigger("focus"):this.$monthObj.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:if(t.shiftKey)return!0;switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth();break;case 1:this.showMonthsOfPrevYear();break;case 2:this.showYearsOfPrevRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},n.prototype.handleMonthKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$prev.trigger("focus"):this.$next.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.changeGrid(t),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},n.prototype.handleNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$monthObj.focus():0==this.gridType?this.$fastnext.trigger("focus"):this.$grid.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth();break;case 1:this.showMonthsOfNextYear();break;case 2:this.showYearsOfNextRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},n.prototype.handleFastNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$next.trigger("focus"):this.$grid.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.showDaysOfNextYear(),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},n.prototype.handleCloseKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!!t.ctrlKey||(t.shiftKey?this.$grid.focus():0==this.gridType?this.$fastprev.trigger("focus"):this.$prev.trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.esc:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.hide(),t.stopPropagation(),!1)}return!0},n.prototype.handleGridKeyDown=function(a){var i=t("#"+this.$grid.attr("aria-activedescendant")),s=this.$grid.find("td.selectable"),r=this.$grid.find("tbody tr").eq(0).find("td").length;if(a.altKey&&a.keyCode!=this.keys.pageup&&a.keyCode!=this.keys.pagedown)return!0;switch(a.keyCode){case this.keys.tab:return 1==this.options.modal?(a.shiftKey?0==this.gridType?this.$fastnext.trigger("focus"):this.$next.trigger("focus"):this.$close.trigger("focus"),a.stopPropagation(),!1):(this.hide(),this.handleTabOut(a),a.stopPropagation(),!1);case this.keys.enter:case this.keys.space:if(a.ctrlKey)return!0;switch(this.gridType){case 0:this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(i.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(i.attr("data-value"),10))}return a.stopPropagation(),!1;case this.keys.esc:return this.hide(),a.stopPropagation(),!1;case this.keys.left:case this.keys.right:if(a.keyCode==this.keys.left&&"LTR"===this.locales.directionality||a.keyCode==this.keys.right&&"RTL"===this.locales.directionality){if(a.ctrlKey||a.shiftKey)return!0;var n=null;if((l=s.index(i)-1)>=0)n=s.eq(l),this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",n.attr("id")),this.selectGridCell(n.attr("id"));else switch(this.gridType){case 0:this.showDaysOfPrevMonth(0);break;case 1:this.showMonthsOfPrevYear(0);break;case 2:this.showYearsOfPrevRange(0)}return a.stopPropagation(),!1}if(a.ctrlKey||a.shiftKey)return!0;var o=null;if((l=s.index(i)+1)<s.length)o=s.eq(l),this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",o.attr("id")),this.selectGridCell(o.attr("id"));else switch(this.gridType){case 0:this.showDaysOfNextMonth(1);break;case 1:this.showMonthsOfNextYear(1);break;case 2:this.showYearsOfNextRange(1)}return a.stopPropagation(),!1;case this.keys.up:if(a.ctrlKey||a.shiftKey)return!0;var l=(h=this.$grid.find("td")).index(i)-r;for(n=null;l>=0&&!h.eq(l).hasClass("selectable");)l--;if(l>=0)n=h.eq(l),this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",n.attr("id")),this.selectGridCell(n.attr("id"));else switch(l=r-h.index(i)%r,this.gridType){case 0:this.showDaysOfPrevMonth(l);break;case 1:this.showMonthsOfPrevYear(l);break;case 2:this.showYearsOfPrevRange(l)}return a.stopPropagation(),!1;case this.keys.down:if(a.ctrlKey||a.shiftKey)return!0;var h;for(l=(h=this.$grid.find("td")).index(i)+r;l<h.length&&!h.eq(l).hasClass("selectable");)l++;if(l<h.length){o=h.eq(l);this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",o.attr("id")),this.selectGridCell(o.attr("id"))}else switch(l=h.index(i)%r+1,this.gridType){case 0:this.showDaysOfNextMonth(l);break;case 1:this.showMonthsOfNextYear(l);break;case 2:this.showYearsOfNextRange(l)}return a.stopPropagation(),!1;case this.keys.pageup:var d=this.$grid.attr("aria-activedescendant");if(a.shiftKey||a.ctrlKey)return!0;a.preventDefault();var c=!1;switch(this.gridType){case 0:a.altKey?(a.stopImmediatePropagation(),c=this.showDaysOfPrevYear()):c=this.showDaysOfPrevMonth();break;case 1:c=this.showMonthsOfPrevYear();break;case 2:c=this.showYearsOfPrevRange()}if(c)if(t("#"+d).attr("id")==e){var p=(s=this.$grid.find("td.selectable")).eq(s.length-1);this.$grid.attr("aria-activedescendant",p.attr("id")),this.selectGridCell(p.attr("id"))}else this.selectGridCell(d);return a.stopPropagation(),!1;case this.keys.pagedown:d=this.$grid.attr("aria-activedescendant");if(a.shiftKey||a.ctrlKey)return!0;a.preventDefault();c=!1;switch(this.gridType){case 0:a.altKey?(a.stopImmediatePropagation(),c=this.showDaysOfNextYear()):c=this.showDaysOfNextMonth();break;case 1:c=this.showMonthsOfNextYear();break;case 2:c=this.showYearsOfNextRange()}if(c)if(t("#"+d).attr("id")==e){p=(s=this.$grid.find("td.selectable")).eq(s.length-1);this.$grid.attr("aria-activedescendant",p.attr("id")),this.selectGridCell(p.attr("id"))}else this.selectGridCell(d);return a.stopPropagation(),!1;case this.keys.home:if(a.ctrlKey||a.shiftKey)return!0;var u=s.eq(0);return this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",u.attr("id")),this.selectGridCell(u.attr("id")),a.stopPropagation(),!1;case this.keys.end:if(a.ctrlKey||a.shiftKey)return!0;p=s.eq(s.length-1);return this.unSelectGridCell(i.attr("id")),this.$grid.attr("aria-activedescendant",p.attr("id")),this.selectGridCell(p.attr("id")),a.stopPropagation(),!1}return!0},n.prototype.handleGridKeyPress=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:case this.keys.enter:case this.keys.space:case this.keys.esc:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:case this.keys.pageup:case this.keys.pagedown:case this.keys.home:case this.keys.end:return t.stopPropagation(),!1}return!0},n.prototype.handleGridClick=function(e,a){var i=t(e);if(i.is(".empty")||i.is(".unselectable"))return!0;switch(this.$grid.find(".focus").removeClass("focus").attr("aria-selected","false").attr("tabindex",-1),this.gridType){case 0:this.$grid.attr("aria-activedescendant",i.attr("id")),this.selectGridCell(i.attr("id")),this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(i.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(i.attr("data-value"),10))}return a.stopPropagation(),!1},n.prototype.handleGridFocus=function(a){var i=this.$grid.attr("aria-activedescendant");if(t("#"+i).attr("id")==e){var s=this.$grid.find("td.selectable"),r=s.eq(s.length-1);this.$grid.attr("aria-activedescendant",r.attr("id")),this.selectGridCell(r.attr("id"))}else this.selectGridCell(i);return!0},n.prototype.handleGridBlur=function(t){return this.unSelectGridCell(this.$grid.attr("aria-activedescendant")),!0},n.prototype.handleTabOut=function(e){var a=t("body").find(":input:visible:not([disabled], .datepicker-button), a[href]:visible:not([disabled], .datepicker-button)"),i=a.index(this.$target);return i>-1&&i<a.length&&(e.shiftKey?i>0&&i--:i+1<a.length&&i++,a.eq(i).focus()),!0},n.prototype.changeGrid=function(t){switch(this.gridType){case 0:if(this.populateMonthsCalendar(),this.year!=this.curYear){var e=this.$grid.find("td.selectable");this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))}else this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id"));this.selectGridCell(this.$grid.attr("aria-activedescendant"));break;case 2:t.shiftKey?this.year-=20:this.year+=20;case 1:if(this.populateYearsCalendar(),this.year!=this.curYear){e=this.$grid.find("td.selectable");this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))}else this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id"));this.selectGridCell(this.$grid.attr("aria-activedescendant"))}return!0},n.prototype.selectGridCell=function(e){t("#"+e).addClass("focus").attr("aria-selected","true").attr("tabindex",0).focus()},n.prototype.unSelectGridCell=function(e){t("#"+e).removeClass("focus").attr("aria-selected","false").attr("tabindex",-1)},n.prototype.update=function(){var e=t("#"+this.$grid.attr("aria-activedescendant")),a=new Date(this.year,this.month,parseInt(e.attr("data-value"),10)),i=this.formatDate(a,this.options.outputFormat);this.$target.val(i),this.$target.removeAttr("aria-invalid"),this.$target.parents(".form-group").removeClass("has-error"),this.$target.trigger("change"),this.options.onUpdate&&this.options.onUpdate(i)},n.prototype.updateLinked=function(t){if(null!==this.options.previous&&""!==this.options.previous.val()){var e=this.options.previous.datepicker("getDate");if(this.options.allowSameDate){if(e>t){var a=this.formatDate(t,this.options.previous.datepicker("outputFormat"));this.options.previous.val(a)}}else if(e>=t){a=this.formatDate(new Date(t.getTime()-864e5),this.options.previous.datepicker("outputFormat"));this.options.previous.val(a)}}if(null!==this.options.next&&""!==this.options.next.val()){var i=this.options.next.datepicker("getDate");if(this.options.allowSameDate){if(i<t){var s=this.formatDate(t,this.options.next.datepicker("outputFormat"));this.options.next.val(s)}}else if(i<=t){s=this.formatDate(new Date(t.getTime()+864e5),this.options.next.datepicker("outputFormat"));this.options.next.val(s)}}null!==this.options.next&&(this.options.allowSameDate?this.options.next.datepicker("min",t):this.options.next.datepicker("min",new Date(t.getTime()+864e5)))},n.prototype.hideObject=function(t){t.attr("aria-hidden",!0),t.hide()},n.prototype.showObject=function(t){t.attr("aria-hidden",!1),t.show()},n.prototype.show=function(){var e=this;if(t(".datepicker-calendar").trigger("ab.datepicker.opening",[e.id]),1==this.options.modal){this.modalEventHandler||(this.modalEventHandler=function(t){return e.$grid.focus(),t.stopPropagation,!1}),t(document).on("click mousedown mouseup",this.modalEventHandler),this.greyOut(!0);var a=parseInt(t("#datepicker-overlay").css("z-index"),10)||40;this.$calendar.css("z-index",a+1)}else t(document).on("click",t.proxy(this.handleDocumentClick,this)),this.$calendar.on("ab.datepicker.opening",function(t,a){a!=e.id?e.hide():e.$grid.focus()});this.$calendar.on("ab.datepicker.opened",function(t,a){a==e.id&&e.$grid.focus()});var i=Math.max(0,Math.floor(this.$group[0].offsetTop)),s=Math.max(0,Math.floor(this.$group[0].offsetLeft+this.$target[0].offsetLeft)),r=this.$calendar.outerHeight(),n=this.$group.offset().top,o=this.$group.outerHeight(!0),l=Math.floor(n-t(window).scrollTop()),h=Math.floor(t(window).height()-(n+o-t(window).scrollTop()));h<r&&h<l?(this.$calendar.addClass("above"),this.$calendar.css({top:i-r+"px",left:s+"px"})):(this.$calendar.addClass("below"),this.$calendar.css({top:i+o+"px",left:s+"px"})),this.$calendar.attr("aria-hidden","false"),this.$calendar.fadeIn(),t(".datepicker-calendar").trigger("ab.datepicker.opened",[e.id])},n.prototype.refresh=function(){switch(this.drawCalendarHeader(),this.gridType){case 0:this.populateDaysCalendar();break;case 1:this.populateMonthsCalendar();break;case 2:this.populateYearsCalendar()}},n.prototype.handleDocumentClick=function(e){return 0==t(e.target).parents("#datepicker-calendar-"+this.id).length?(this.hide(),!0):(this.$grid.focus(),e.stopPropagation,!1)},n.prototype.hide=function(e){if(0==this.options.inline){1==this.options.modal?(this.modalEventHandler&&t(document).off("click mousedown mouseup",this.modalEventHandler),this.greyOut(!1)):(t(document).off("click",this.handleDocumentClick),this.$calendar.off("ab.datepicker.opening")),this.$calendar.removeClass("above below"),this.$calendar.attr("aria-hidden","true"),this.$calendar.fadeOut(),t(".datepicker-calendar").trigger("ab.datepicker.closed",[this.id]),e||this.$target.trigger("focus")}},n.prototype.greyOut=function(e){var a=t("#datepicker-overlay");0==a.length&&e&&(t("body").append('<div id="datepicker-overlay" class="datepicker-overlay"></div>'),a=t("#datepicker-overlay")),e?a.fadeIn(500):a.fadeOut(500)},n.prototype.getDaysInMonth=function(t,e){return 32-new Date(t,e,32).getDate()},n.prototype.previousMonth=function(t,e){return 0==e?(e=11,t--):e--,{year:t,month:e}},n.prototype.nextMonth=function(t,e){return 11==e?(e=0,t++):e++,{year:t,month:e}},n.prototype.formatDate=function(t,e){var a=function(t){return(t<0||t>9?"":"0")+t},i=function(t){var e=new Date(t.getTime());return e.setHours(0),t-e},s=t.getFullYear()+"",r=t.getMonth()+1,n=t.getDate(),o=function(t){var e=new Date(t.getFullYear(),0,0);return Math.floor((t-e)/864e5)}(t),l=t.getDay(),h=t.getHours(),d=t.getMinutes(),c=t.getSeconds(),p=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+e.getDay()+1)/7)}(t),u=function(t){return Math.ceil((t.getDate()-1-t.getDay())/7)}(t),b=Math.floor(t.getDate()/7)+1,f=Math.ceil((t.getMonth()+1)/3),y=t.getFullYear()<1?0:1,g={y:""+s,yyyy:s,yy:s.substring(2,4),L:r,LL:a(r),LLL:this.locales.month_names_abbreviated[r-1],LLLL:this.locales.month_names[r-1],LLLLL:this.locales.month_names_narrow[r-1],M:r,MM:a(r),MMM:this.locales.month_names_abbreviated[r-1],MMMM:this.locales.month_names[r-1],MMMMM:this.locales.month_names_narrow[r-1],d:n,dd:a(n),D:o,DD:o,DDD:o,A:Math.round(i(t)*Math.pow(10,-2)),AA:Math.round(i(t)*Math.pow(10,-1)),AAA:Math.round(i(t)*Math.pow(10,0)),AAAA:Math.round(i(t)*Math.pow(10,1)),AAAAA:Math.round(i(t)*Math.pow(10,2)),AAAAAA:Math.round(i(t)*Math.pow(10,3)),E:this.locales.day_names_abbreviated[l],EE:this.locales.day_names_abbreviated[l],EEE:this.locales.day_names_abbreviated[l],EEEE:this.locales.day_names[l],EEEEE:this.locales.day_names_narrow[l],EEEEEE:this.locales.day_names_short[l],e:l,ee:l,eee:this.locales.day_names_abbreviated[l],eeee:this.locales.day_names[l],eeeee:this.locales.day_names_narrow[l],eeeeee:this.locales.day_names_short[l],c:l,cc:l,ccc:this.locales.day_names_abbreviated[l],cccc:this.locales.day_names[l],ccccc:this.locales.day_names_narrow[l],cccccc:this.locales.day_names_short[l],F:b,G:this.locales.era_names_abbreviated[y],GG:this.locales.era_names_abbreviated[y],GGG:this.locales.era_names_abbreviated[y],GGGG:this.locales.era_names[y],GGGGG:this.locales.era_names_narrow[y],Q:f,QQ:a(f),QQQ:this.locales.quarter_names_abbreviated[f-1],QQQQ:this.locales.quarter_names[f-1],QQQQQ:this.locales.quarter_names_narrow[f-1],q:f,qq:a(f),qqq:this.locales.quarter_names_abbreviated[f-1],qqqq:this.locales.quarter_names[f-1],qqqqq:this.locales.quarter_names_narrow[f-1],H:h,HH:a(h),h:0==h?12:h>12?h-12:h,hh:a(0==h?12:h>12?h-12:h),K:h>11?h-12:h,k:h+1,KK:a(h>11?h-12:h),kk:a(h+1),a:h>11?this.locales.day_periods.pm:this.locales.day_periods.am,m:d,mm:a(d),s:c,ss:a(c),w:p,ww:a(p),W:u};return e.replace(/('[^']+'|y{1,4}|L{1,5}|M{1,5}|c{1,6}|d{1,2}|D{1,3}|E{1,6}|e{1,6}|F{1,1}|G{1,5}|Q{1,5}|q{1,5}|H{1,2}|h{1,2}|K{1,2}|k{1,2}|m{1,2}|s{1,2}|w{1,2}|W{1,1}|A{1,6})/g,function(t){return"'"===t.charAt(0)?t.substr(1,t.length-2):g[t]||t})},n.prototype.createDateFromFormat=function(e,a){var i=function(t,e,a,i){for(var s=i;s>=a;s--){var r=t.substring(e,e+s);if(r.length<a)return null;if(/^\d+$/.test(r))return r}return null},s=function(t,e){for(var i=0;i<t.length;i++){var s=t[i];if(a.substring(e,e+s.length).toLowerCase()==s.toLowerCase())return s.length}return 0},r=0,n=new Date,o=n.getYear(),l=n.getMonth()+1,h=1,d=0,c=0,p=0,u="",b=this;if(t.each(e.match(/(.).*?\1*/g),function(t,e){switch(e){case"yyyy":null!=(o=i(a,r,4,4))&&(r+=o.length);break;case"yy":null!=(o=i(a,r,2,2))&&(r+=o.length);break;case"y":null!=(o=i(a,r,2,4))&&(r+=o.length);break;case"MMM":case"LLL":l=0;for(var n=0;n<b.locales.month_names_abbreviated.length;n++){var f=b.locales.month_names_abbreviated[n];if(a.substring(r,r+f.length).toLowerCase()==f.toLowerCase()){l=n+1,r+=f.length;break}}break;case"MMMM":case"LLLL":l=0;for(n=0;n<b.locales.month_names.length;n++){f=b.locales.month_names[n];if(a.substring(r,r+f.length).toLowerCase()==f.toLowerCase()){l=n+1,r+=f.length;break}}break;case"EEE":case"EE":case"E":case"eee":r+=s(b.locales.day_names_abbreviated,r);break;case"EEEE":case"eeee":case"cccc":r+=s(b.locales.day_names,r);break;case"EEEEEE":case"eeeeee":case"cccccc":r+=s(b.locales.day_names_short,r);break;case"MM":case"M":case"LL":case"L":if(null==(l=i(a,r,e.length,2))||l<1||l>12)return null;r+=l.length;break;case"dd":case"d":if(null==(h=i(a,r,e.length,2))||h<1||h>31)return null;r+=h.length;break;case"hh":case"h":if(null==(d=i(a,r,e.length,2))||d<1||d>12)return null;r+=d.length;break;case"HH":case"H":if(null==(d=i(a,r,e.length,2))||d<0||d>23)return null;r+=d.length;break;case"KK":case"K":if(null==(d=i(a,r,e.length,2))||d<0||d>11)return null;r+=d.length;break;case"kk":case"k":if(null==(d=i(a,r,e.length,2))||d<1||d>24)return null;r+=d.length,d--;break;case"mm":case"m":if(null==(c=i(a,r,e.length,2))||c<0||c>59)return null;r+=c.length;break;case"ss":case"s":if(null==(p=i(a,r,e.length,2))||p<0||p>59)return null;r+=p.length;break;case"a":var y=b.locales.day_periods.am.length,g=b.locales.day_periods.pm.length;if(a.substring(r,r+y)==b.locales.day_periods.am)u="AM",r+=y;else{if(a.substring(r,r+g)!=b.locales.day_periods.pm)return null;u="PM",r+=g}break;default:if(a.substring(r,r+e.length)!=e)return null;r+=e.length}}),r!=a.length)return null;if(null==o)return null;if(2==o.length&&(o=o>50?o-0+1900:o-0+2e3),l<1||l>12)return null;if(2==l)if(o%4==0&&o%100!=0||o%400==0){if(h>29)return null}else if(h>28)return null;return(4==l||6==l||9==l||11==l)&&h>30?null:(d<12&&"PM"==u?d=d-0+12:d>11&&"AM"==u&&(d-=12),new Date(o,l-1,h,d,c,p))},n.prototype.parseDate=function(e){var a=null,i=this;return t.each(this.options.inputFormat,function(t,s){if(null!=(a=i.createDateFromFormat(s,e)))return!1}),null==a&&(a=i.createDateFromFormat(this.options.outputFormat,e)),a},n.prototype.min=function(t){return null!=t&&(this.options.min=t instanceof Date?t:this.parseDate(t),null!=this.options.min&&this.dateObj<this.options.min&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min),0!=this.options.inline&&this.refresh()),this.options.min},n.prototype.max=function(t){return null!=t&&(this.options.max=t instanceof Date?t:this.parseDate(t),null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),0!=this.options.inline&&this.refresh()),this.options.max},n.prototype.next=function(e){return null!=e&&("string"==typeof e?this.options.next=t(e):this.options.next instanceof jQuery&&(this.options.next=e)),this.options.next},n.prototype.previous=function(e){return null!=e&&("string"==typeof e?this.options.previous=t(e):this.options.previous instanceof jQuery&&(this.options.previous=e)),this.options.previous},n.prototype.theme=function(t){return null!=t&&(this.$button.removeClass(this.options.theme),this.$calendar.removeClass(this.options.theme),this.options.theme=t,this.$button.addClass(this.options.theme),this.$calendar.addClass(this.options.theme)),this.options.theme},n.prototype.firstDayOfWeek=function(t){return null!=t&&(this.options.firstDayOfWeek=parseInt(t,10),0==this.options.inline?this.drawCalendarHeader():this.refresh()),this.options.firstDayOfWeek},n.prototype.daysOfWeekDisabled=function(e){if(null!=e){this.options.daysOfWeekDisabled=[],Array.isArray(e)||(e=[e]);var a=this;t.each(e,function(t,e){"number"==typeof e?a.options.daysOfWeekDisabled.push(e):"string"==typeof e&&a.options.daysOfWeekDisabled.push(parseInt(e,10))})}return this.options.daysOfWeekDisabled},n.prototype.weekDayFormat=function(t){return null!=t&&(this.options.weekDayFormat=t,this.drawCalendarHeader()),this.options.weekDayFormat},n.prototype.inputFormat=function(t){return null!=t&&(Array.isArray(t)||(t=[t]),this.$target.attr("placeholder")==this.options.inputFormat[0]&&this.$target.attr("placeholder",t[0]),this.options.inputFormat=t),this.options.inputFormat},n.prototype.outputFormat=function(t){return null!=t&&(this.options.outputFormat=t),this.options.outputFormat},n.prototype.modal=function(t){if(null!=t)if(this.options.modal=t,1==this.options.modal){0==this.options.inline&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel);var e=this;this.$close.on("click",function(t){return e.handleCloseClick(t)}),this.$close.on("keydown",function(t){return e.handleCloseKeyDown(t)})}else this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label"));return this.options.modal},n.prototype.inline=function(e){null!=e&&(0!=e?(this.hideObject(this.$button),this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label")),("string"==typeof e?t("#"+e):e).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px",top:"0px"}),this.options.inline=e,this.initializeDate(),this.showObject(this.$calendar)):(this.$target.parent().after(this.$calendar),this.showObject(this.$button),1==this.options.modal&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.css({position:"absolute"}),this.options.inline=e,this.hide()));return this.options.inline},n.prototype.format=function(t){return this.formatDate(t,this.options.outputFormat)},n.prototype.enable=function(){this.$button.removeClass("disabled"),this.$button.attr("aria-disabled",!1),this.$button.attr("tabindex",0)},n.prototype.disable=function(){this.hide(),this.$button.addClass("disabled"),this.$button.attr("aria-disabled",!0),this.$button.attr("tabindex",-1)},n.prototype.datesDisabled=function(e){this.options.datesDisabled=[],Array.isArray(e)||(e=[e]);var a=this;t.each(e,function(t,e){if("string"==typeof e){var i=a.parseDate(e);null!==i&&a.options.datesDisabled.push(a.format(i))}else e instanceof Date&&!isNaN(e.valueOf())&&a.options.datesDisabled.push(a.format(e))})},n.prototype.startview=function(t){switch(t){case 1:case"months":this.options.startView=1;break;case 2:case"years":this.options.startView=2;break;default:this.options.startView=0}},n.prototype.setLocales=function(t){this.locales=t,this.options.inputFormat=[this.locales.short_format],this.options.outputFormat=this.locales.short_format,this.options.titleFormat=this.locales.full_format,this.options.firstDayOfWeek=this.locales.firstday_of_week,this.options.buttonTitle=this.locales.texts.buttonTitle,this.$button.find("span").attr("title",this.options.buttonTitle),this.options.buttonLabel=this.locales.texts.buttonLabel,this.options.prevButtonLabel=this.locales.texts.prevButtonLabel,this.options.prevMonthButtonLabel=this.locales.texts.prevMonthButtonLabel,this.options.prevYearButtonLabel=this.locales.texts.prevYearButtonLabel,this.options.nextButtonLabel=this.locales.texts.nextButtonLabel,this.options.nextMonthButtonLabel=this.locales.texts.nextMonthButtonLabel,this.options.nextYearButtonLabel=this.locales.texts.nextYearButtonLabel,this.options.changeMonthButtonLabel=this.locales.texts.changeMonthButtonLabel,this.options.changeYearButtonLabel=this.locales.texts.changeYearButtonLabel,this.options.changeRangeButtonLabel=this.locales.texts.changeRangeButtonLabel,this.options.closeButtonTitle=this.locales.texts.closeButtonTitle,this.options.closeButtonLabel=this.locales.texts.closeButtonLabel,this.options.calendarHelp=this.locales.texts.calendarHelp,this.drawCalendarHeader(),"RTL"===this.locales.directionality?this.$grid.addClass("rtl"):this.$grid.removeClass("rtl")};var o=t.fn.datepicker;t.fn.datepicker=function(e,a){if("string"!=typeof e||1!=t(this).length)return this.each(function(){var i=t(this),s=i.data("ab.datepicker"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);s||i.data("ab.datepicker",s=new n(this,r)),"string"==typeof e&&s[e](a)});var i=t(this).eq(0).data("ab.datepicker");if(i)return i[e](a);var s=t(this);setTimeout(function(){var t=s.eq(0).data("ab.datepicker");if(t)return t[e](a)},0)},t.fn.datepicker.Constructor=n,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=o,this}});